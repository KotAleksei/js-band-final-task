{"version":3,"sources":["assets/images/logo-image.png","components/header/header.jsx","components/header/index.js","api/sign-in.js","redux/sign-in/actions.js","components/spinner/index.js","components/spinner/spinner.jsx","components/sign-in/sign-in.jsx","components/sign-in/index.js","pages/sign-in.jsx","api/books.js","redux/sign-in/reducer.js","redux/books/actions.js","components/booklist-item/booklist-item.jsx","components/booklist-item/index.js","components/booklist/booklist.jsx","components/booklist/index.js","pages/books.jsx","api/book.js","redux/book/actions.js","components/book/book.jsx","components/book/index.js","pages/book.jsx","components/app/app.jsx","components/app/index.js","redux/books/reducer.js","redux/book/reducer.js","redux/store.js","index.js"],"names":["module","exports","Header","className","style","color","axios","defaults","baseURL","signIn","userInfo","dispatch","type","post","signinAPI","then","data","payload","catch","err","Spinner","role","SignIn","props","state","username","userNameInput","React","createRef","handleChange","bind","handleSubmit","this","isAuthentificated","history","inputElement","current","addEventListener","setCustomValidity","replace","e","checkInput","target","value","length","setState","preventDefault","signInCT","isLoading","src","LogoImage","alt","onSubmit","placeholder","minLength","maxLength","ref","autoFocus","required","onChange","Component","connect","signInReducer","userName","withRouter","SigninPage","initialState","localStorage","getItem","error","undefined","avatar","token","getToken","action","setItem","getBooks","getState","get","headers","Authorization","getBooksAPI","response","getBooksError","BookListItem","handleClick","book","path","match","push","id","cover","title","author","price","onClick","BookListIten","BookList","books","getBooksCT","map","key","defaultProps","PropTypes","BooksList","booksReducer","BooksPage","getBook","getBookAPI","getBookError","Book","params","getBookCT","removeBookFromStoreCT","level","tags","description","bookReducer","BookPage","NotFoundPage","App","exact","to","component","SignInPage","rootReducer","combineReducers","store","createStore","applyMiddleware","thunk","ReactDOM","render","basename","document","getElementById"],"mappings":"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","file":"static/js/main.ca6772ba.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo-image.22826269.png\";","import React from 'react';\n\nfunction Header() {\n  return (\n    <div>\n      <div className=\"bg-secondary border-bottom \">\n        <h1 className=\"h2 text-left pt-3 pb-2 pl-5\" style={{ color: 'white' }}>\n          JS BAND STORE/ Aleksei Kotvitskyi\n        </h1>\n      </div>\n    </div>\n  );\n}\nexport default Header;\n","import Header from './header';\n\nexport default Header;\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://js-band-api.glitch.me/';\n\nexport const signin = userInfo => axios.post('signin', userInfo);\n","import { signin as signinAPI } from '../../api/sign-in';\n\nexport const SIGN_IN_REQUEST = 'SIGN_IN_REQUEST';\nexport const SIGN_IN_SUCCESS = 'SIGN_IN_SUCCESS';\nexport const SIGN_IN_ERROR = 'SIGN_IN_ERROR';\nexport const HANDLE_LOGOUT = 'HANDLE_LOGOUT';\n\nexport const signInRequest = () => ({\n  type: SIGN_IN_REQUEST,\n});\n\nexport const signInSucces = response => ({\n  type: SIGN_IN_SUCCESS,\n  payload: response,\n});\n\nexport const signInError = error => ({\n  type: SIGN_IN_ERROR,\n  payload: error,\n});\n\nexport const handleLogout = () => ({\n  type: HANDLE_LOGOUT,\n});\n\nexport const signIn = userInfo => dispatch => {\n  dispatch(signInRequest());\n\n  signinAPI(userInfo)\n    .then(({ data }) => dispatch(signInSucces(data)))\n    .catch(err => dispatch(signInError(err)));\n};\n","import Spinner from './spinner';\n\nexport default Spinner;\n","import React from 'react';\n\nconst Spinner = () => (\n  <div className=\"loader mt-5\">\n    <div className=\"spinner-border\" role=\"status\">\n      <span className=\"sr-only\">Loading...</span>\n    </div>\n  </div>\n);\n\nexport default Spinner;\n","import React from 'react';\nimport { withRouter } from 'react-router';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport LogoImage from '../../assets/images/logo-image.png';\nimport { signIn } from '../../redux/sign-in/actions';\nimport Spinner from '../spinner';\n\nclass SignIn extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      username: '',\n    };\n    this.userNameInput = React.createRef();\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  componentDidMount() {\n    const { isAuthentificated, history } = this.props;\n    const inputElement = this.userNameInput.current;\n\n    inputElement.addEventListener('invalid', () => {\n      inputElement.setCustomValidity('Field is not valid');\n    });\n\n    if (isAuthentificated) {\n      history.replace('/books');\n    }\n  }\n\n  componentDidUpdate() {\n    const { isAuthentificated, history } = this.props;\n\n    if (isAuthentificated) {\n      history.replace('/books');\n    }\n  }\n\n  handleChange(e) {\n    const checkInput = e.target.value.length > 3;\n    this.setState({\n      username: e.target.value,\n    });\n\n    if (!checkInput) {\n      e.target.setCustomValidity('Field is not valid');\n    } else {\n      e.target.setCustomValidity('');\n    }\n  }\n\n  handleSubmit(e) {\n    e.preventDefault();\n    const { username } = this.state;\n    const { signInCT } = this.props;\n    signInCT({ username });\n  }\n\n  render() {\n    const { isLoading } = this.props;\n    return (\n      <>\n        {isLoading ? (\n          <Spinner />\n        ) : (\n          <div className=\"container d-flex justify-content-center\">\n            <div className=\"container col-6 col-lg-4 text-center mt-5\">\n              <img className=\"card-img-top rounded col-8\" src={LogoImage} alt=\"avatar\" />\n              <form\n                className=\"d-flex flex-column align-items-center\"\n                onSubmit={this.handleSubmit}\n              >\n                <label className=\"mt-3 col-11 font-weight-bold\">\n                  Username\n                  <input\n                    type=\"text\"\n                    placeholder=\"type Username\"\n                    className=\"form-control text-center\"\n                    minLength={4}\n                    maxLength={16}\n                    ref={this.userNameInput}\n                    autoFocus\n                    required\n                    onChange={this.handleChange}\n                  />\n                </label>\n                <button type=\"submit\" className=\"btn btn-success mt-3 col-10 btn-submit\">\n                  <span className=\"signIn-content\">Sign-In</span>\n                </button>\n              </form>\n            </div>\n          </div>\n        )}\n      </>\n    );\n  }\n}\n\nSignIn.propTypes = {\n  history: PropTypes.oneOfType([PropTypes.object]).isRequired,\n  signInCT: PropTypes.func.isRequired,\n  isAuthentificated: PropTypes.bool.isRequired,\n  isLoading: PropTypes.bool.isRequired,\n};\n\nconst mapDispatchToProps = dispatch => ({\n  signInCT: userName => dispatch(signIn(userName)),\n});\n\nexport default connect(\n  state => ({\n    isAuthentificated: state.signInReducer.isAuthentificated,\n    isLoading: state.signInReducer.isLoading,\n  }),\n  mapDispatchToProps,\n)(withRouter(SignIn));\n","import SignIn from './sign-in';\n\nexport default SignIn;\n","import React from 'react';\nimport Header from '../components/header';\nimport SignIn from '../components/sign-in';\n\nconst SigninPage = () => (\n  <>\n    <Header />\n    <SignIn />\n  </>\n);\n\nexport default SigninPage;\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://js-band-api.glitch.me/';\n\nexport const getBooks = token => {\n  return axios.get('books', {\n    headers: {\n      Authorization: `Bearer ${token}`,\n    },\n  });\n};\n","import { SIGN_IN_SUCCESS, SIGN_IN_ERROR, SIGN_IN_REQUEST } from './actions';\n\nconst initialState = {\n  isAuthentificated: !!localStorage.getItem('token'),\n  error: undefined,\n  avatar: undefined,\n  token: localStorage.getItem('token'),\n  username: undefined,\n  isLoading: false,\n};\n\nexport const getToken = state => state.signInReducer.token;\n\nconst signInReducer = (state = initialState, action) => {\n  const { type } = action;\n\n  switch (type) {\n    case SIGN_IN_REQUEST: {\n      return {\n        ...state,\n        isLoading: true,\n      };\n    }\n    case SIGN_IN_SUCCESS: {\n      const {\n        payload: { avatar, token, username },\n      } = action;\n      localStorage.setItem('token', token);\n      return {\n        ...state,\n        isAuthentificated: true,\n        avatar,\n        token,\n        username,\n        isLoading: false,\n      };\n    }\n    case SIGN_IN_ERROR: {\n      const { payload } = action;\n      return {\n        ...state,\n        isLoading: false,\n        error: payload.error,\n      };\n    }\n    default: {\n      return state;\n    }\n  }\n};\n\nexport default signInReducer;\n","import { getBooks as getBooksAPI } from '../../api/books';\nimport { getToken } from '../sign-in/reducer';\n\nexport const GET_BOOKS_REQUEST = 'GET_BOOKS_REQUEST';\nexport const GET_BOOKS_SUCCES = 'GET_BOOKS_SUCCES';\nexport const GET_BOOKS_ERROR = 'GET_BOOKS_ERROR';\n\nexport const getBooksRequest = () => ({\n  type: GET_BOOKS_REQUEST,\n});\n\nexport const getBooksSucces = response => ({\n  type: GET_BOOKS_SUCCES,\n  payload: response,\n});\n\nexport const getBooksError = err => ({\n  type: GET_BOOKS_ERROR,\n  payload: err,\n});\n\nexport const getBooks = () => (dispatch, getState) => {\n  const token = getToken(getState());\n\n  if (!token) return;\n  dispatch(getBooksRequest());\n  getBooksAPI(token)\n    .then(({ data }) => dispatch(getBooksSucces(data)))\n    .catch(({ response: { data: err } }) => dispatch(getBooksError(err)));\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withRouter } from 'react-router';\n\nclass BookListItem extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleClick = this.handleClick.bind(this);\n  }\n\n  handleClick() {\n    const {\n      history,\n      book,\n      match: { path },\n    } = this.props;\n\n    history.push(`${path}/${book.id}`);\n  }\n\n  render() {\n    const { book } = this.props;\n    return (\n      <li className=\"card booklist-item bg-light \">\n        <img\n          src={book.cover}\n          alt={book.title}\n          className=\"rounded mx-auto d-block book-img\"\n        />\n        <div className=\"card-body\">\n          <h5 className=\"card-title\">{book.title}</h5>\n          <p className=\"card-text\">{book.author}</p>\n        </div>\n        <div className=\"card-footer\">\n          <span className=\"float-left book-price\">Price: {book.price}$</span>\n\n          <button\n            type=\"button\"\n            className=\"btn btn-dark float-right\"\n            onClick={this.handleClick}\n          >\n            View\n          </button>\n        </div>\n      </li>\n    );\n  }\n}\n\nBookListItem.propTypes = {\n  book: PropTypes.shape({\n    cover: PropTypes.string.isRequired,\n    title: PropTypes.string.isRequired,\n    author: PropTypes.string.isRequired,\n    price: PropTypes.number.isRequired,\n    id: PropTypes.string.isRequired,\n  }).isRequired,\n  history: PropTypes.oneOfType([PropTypes.object]).isRequired,\n  match: PropTypes.oneOfType([PropTypes.object]).isRequired,\n};\n\nexport default withRouter(BookListItem);\n","import BookListIten from './booklist-item';\n\nexport default BookListIten;\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { getBooks } from '../../redux/books/actions';\nimport BookListItem from '../booklist-item';\nimport Spinner from '../spinner';\n\nclass BookList extends React.Component {\n  componentDidMount() {\n    const { books, getBooksCT } = this.props;\n    if (!books) getBooksCT();\n  }\n\n  render() {\n    const { books, isLoading, error } = this.props;\n\n    return (\n      <>\n        {isLoading && <Spinner />}\n        {error && (\n          <div className=\"booklist-erroMessage\">Oops... You should Authorize</div>\n        )}\n        {books && (\n          <ul className=\"bookList\">\n            {books.map(book => (\n              <BookListItem key={book.id} book={book} />\n            ))}\n          </ul>\n        )}\n      </>\n    );\n  }\n}\nBookList.defaultProps = {\n  books: PropTypes.undefined,\n  error: PropTypes.undefined,\n};\n\nBookList.propTypes = {\n  books: PropTypes.oneOfType([PropTypes.array]),\n  getBooksCT: PropTypes.func.isRequired,\n  isLoading: PropTypes.bool.isRequired,\n  error: PropTypes.oneOfType([PropTypes.object]),\n};\n\nconst mapDispatchToProps = dispatch => ({\n  getBooksCT: () => dispatch(getBooks()),\n});\n\nexport default connect(\n  state => ({\n    books: state.booksReducer.books,\n    isLoading: state.booksReducer.isLoading,\n    error: state.booksReducer.error,\n  }),\n  mapDispatchToProps,\n)(BookList);\n","import BooksList from './booklist';\n\nexport default BooksList;\n","import React from 'react';\nimport Header from '../components/header';\nimport BookList from '../components/booklist';\n\nconst BooksPage = () => (\n  <>\n    <Header />\n    <BookList />\n  </>\n);\n\nexport default BooksPage;\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://js-band-api.glitch.me/';\n\nexport const getBook = (token, id) => {\n  return axios.get(`books/${id}`, {\n    headers: {\n      Authorization: `Bearer ${token}`,\n    },\n  });\n};\n","import { getBook as getBookAPI } from '../../api/book';\nimport { getToken } from '../sign-in/reducer';\n\nexport const GET_BOOK_REQUEST = 'GET_BOOK_REQUEST';\nexport const GET_BOOK_SUCCES = 'GET_BOOK_SUCCES';\nexport const GET_BOOK_ERROR = 'GET_BOOK_ERROR';\nexport const REMOVE_BOOK_FROM_STORE = 'REMOVE_BOOK_FROM_STORE';\n\nexport const getBookRequest = () => ({\n  type: GET_BOOK_REQUEST,\n});\n\nexport const getBookSucces = response => ({\n  type: GET_BOOK_SUCCES,\n  payload: response,\n});\n\nexport const getBookError = err => ({\n  type: GET_BOOK_ERROR,\n  payload: err,\n});\n\nexport const removeBookFromStore = () => ({\n  type: REMOVE_BOOK_FROM_STORE,\n});\n\nexport const getBook = id => (dispatch, getState) => {\n  const token = getToken(getState());\n\n  if (!token) return;\n  dispatch(getBookRequest());\n  getBookAPI(token, id)\n    .then(({ data }) => dispatch(getBookSucces(data)))\n    .catch(({ response: { data: err } }) => dispatch(getBookError(err)));\n};\n","import React from 'react';\nimport { withRouter } from 'react-router';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { getBook, removeBookFromStore } from '../../redux/book/actions';\nimport Spinner from '../spinner';\n\nclass Book extends React.Component {\n  componentDidMount() {\n    const {\n      match: {\n        params: { id },\n      },\n      getBookCT,\n    } = this.props;\n    getBookCT(id);\n  }\n\n  componentWillUnmount() {\n    const { removeBookFromStoreCT } = this.props;\n    removeBookFromStoreCT();\n  }\n\n  render() {\n    const { book, isLoading } = this.props;\n\n    return (\n      <>\n        {isLoading && <Spinner />}\n        {book && (\n          <div className=\"card mb-3 col-6 mt-5 ml-5 bg-light\">\n            <div className=\"row no-gutters\">\n              <div className=\"pl-3 pt-3 col-md-4\">\n                <img src={book.cover} className=\"card-img\" alt={book.title} />\n              </div>\n              <div className=\"col-md-8\">\n                <div className=\"card-body\">\n                  <h5 className=\"card-title\">{book.title}</h5>\n                  <p className=\"card-text\">Autor: {book.author}</p>\n                  <p className=\"card-text\">Level: {book.level}</p>\n                  <p className=\"card-text\">Tags: {book.tags}</p>\n                </div>\n              </div>\n            </div>\n            <div className=\"card-footer mt-3\">{book.description}</div>\n          </div>\n        )}\n      </>\n    );\n  }\n}\n\nBook.defaultProps = {\n  book: PropTypes.undefined,\n};\n\nBook.propTypes = {\n  match: PropTypes.oneOfType([PropTypes.object]).isRequired,\n  getBookCT: PropTypes.func.isRequired,\n  removeBookFromStoreCT: PropTypes.func.isRequired,\n  book: PropTypes.shape({\n    cover: PropTypes.string.isRequired,\n    title: PropTypes.string.isRequired,\n    author: PropTypes.string.isRequired,\n    level: PropTypes.string.isRequired,\n    tags: PropTypes.oneOfType([PropTypes.array]).isRequired,\n    description: PropTypes.string.isRequired,\n  }),\n  isLoading: PropTypes.bool.isRequired,\n};\n\nconst mapDispatchToProps = dispatch => ({\n  getBookCT: id => dispatch(getBook(id)),\n  removeBookFromStoreCT: () => dispatch(removeBookFromStore()),\n});\n\nexport default connect(\n  state => ({\n    book: state.bookReducer.book,\n    isLoading: state.bookReducer.isLoading,\n  }),\n  mapDispatchToProps,\n)(withRouter(Book));\n","import Book from './book';\n\nexport default Book;\n","import React from 'react';\nimport Header from '../components/header';\nimport Book from '../components/book';\n\nconst BookPage = () => {\n  return (\n    <>\n      <Header />\n      <Book />\n    </>\n  );\n};\n\nexport default BookPage;\n","import React from 'react';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport { Switch, Route, Redirect } from 'react-router-dom';\nimport SignInPage from '../../pages/sign-in';\nimport BooksPage from '../../pages/books';\nimport BookPage from '../../pages/book';\n\nfunction NotFoundPage() {\n  return <h1>Not Found...</h1>;\n}\n\nfunction App() {\n  return (\n    <Switch>\n      <Route exact path=\"/\">\n        <Redirect to=\"/signin\" />\n      </Route>\n      <Route exact path=\"/signin\" component={SignInPage} />\n      <Route exact path=\"/books\" component={BooksPage} />\n      <Route exact path=\"/books/:id\" component={BookPage} />\n      <Route path=\"*\" component={NotFoundPage} />\n    </Switch>\n  );\n}\nexport default App;\n","import App from './app';\n\nexport default App;\n","import { GET_BOOKS_SUCCES, GET_BOOKS_ERROR, GET_BOOKS_REQUEST } from './actions';\n\nconst initialState = {\n  books: undefined,\n  error: undefined,\n  isLoading: false,\n};\n\nconst booksReducer = (state = initialState, action) => {\n  const { type } = action;\n\n  switch (type) {\n    case GET_BOOKS_REQUEST: {\n      return {\n        ...state,\n        isLoading: true,\n      };\n    }\n    case GET_BOOKS_SUCCES: {\n      return {\n        ...state,\n        isLoading: false,\n        books: action.payload,\n      };\n    }\n    case GET_BOOKS_ERROR: {\n      return {\n        ...state,\n        isLoading: false,\n        error: action.payload,\n      };\n    }\n    default: {\n      return state;\n    }\n  }\n};\n\nexport default booksReducer;\n","import {\n  GET_BOOK_SUCCES,\n  GET_BOOK_ERROR,\n  GET_BOOK_REQUEST,\n  REMOVE_BOOK_FROM_STORE,\n} from './actions';\n\nconst initialState = {\n  book: undefined,\n  error: undefined,\n  isLoading: false,\n};\n\nconst bookReducer = (state = initialState, action) => {\n  const { type } = action;\n\n  switch (type) {\n    case GET_BOOK_REQUEST: {\n      return {\n        ...state,\n        isLoading: true,\n      };\n    }\n    case GET_BOOK_SUCCES: {\n      return {\n        ...state,\n        isLoading: false,\n        book: action.payload,\n      };\n    }\n    case GET_BOOK_ERROR: {\n      return {\n        ...state,\n        isLoading: false,\n        error: action.payload,\n      };\n    }\n    case REMOVE_BOOK_FROM_STORE: {\n      return {\n        ...state,\n        book: undefined,\n      };\n    }\n    default: {\n      return state;\n    }\n  }\n};\n\nexport default bookReducer;\n","import { createStore, applyMiddleware, combineReducers } from 'redux';\nimport thunk from 'redux-thunk';\nimport signInReducer from './sign-in/reducer';\nimport booksReducer from './books/reducer';\nimport bookReducer from './book/reducer';\n\nconst rootReducer = combineReducers({\n  signInReducer,\n  booksReducer,\n  bookReducer,\n});\n\nexport const store = createStore(rootReducer, applyMiddleware(thunk));\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter } from 'react-router-dom';\nimport { Provider } from 'react-redux';\nimport App from './components/app';\nimport './styles/main-styles';\nimport { store } from './redux/store';\n\nReactDOM.render(\n  <Provider store={store}>\n    <HashRouter basename=\"/\">\n      <App />\n    </HashRouter>\n  </Provider>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}