(this["webpackJsonpjs-band-final-task"]=this["webpackJsonpjs-band-final-task"]||[]).push([[0],{37:function(e,t,a){e.exports=a.p+"static/media/logo-image.22826269.png"},42:function(e,t,a){e.exports=a(71)},70:function(e,t,a){},71:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(13),l=a.n(c),i=a(17),o=a(15),s=(a(51),a(7));var u=function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"bg-light border-bottom "},r.a.createElement("div",{className:"container"},r.a.createElement("h1",{className:"h2 text-left pt-3 pb-2"},"JS BAND STORE/ Aleksei Kotvitskyi"))))},m=a(34),d=a(35),h=a(40),b=a(36),p=a(12),f=a(41),v=a(37),g=a.n(v),E=a(19),N=a.n(E);N.a.defaults.baseURL="https://js-band-api.glitch.me/";var S=function(e){return function(t){t({type:"SIGN_IN_REQUEST"}),function(e){return N.a.post("signin",e)}(e).then((function(e){var a=e.data;return t({type:"SIGN_IN_SUCCESS",payload:a})})).catch((function(e){return t({type:"SIGN_IN_ERROR",payload:e})}))}},y=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(h.a)(this,Object(b.a)(t).call(this,e))).state={username:""},a.userNameInput=r.a.createRef(),a.handleChange=a.handleChange.bind(Object(p.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(p.a)(a)),a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this.userNameInput.current;e.addEventListener("invalid",(function(){e.setCustomValidity("Field is not valid")}))}},{key:"handleChange",value:function(e){var t=e.target.value.length>3;this.setState({username:e.target.value}),t?e.target.setCustomValidity(""):e.target.setCustomValidity("Field is not valid")}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=this.state.username;(0,this.props.signInCT)({username:t})}},{key:"render",value:function(){return r.a.createElement("div",{className:"container d-flex justify-content-center"},r.a.createElement("div",{className:"container col-6 col-lg-4 text-center mt-5"},r.a.createElement("img",{className:"card-img-top rounded col-8",src:g.a,alt:"avatar"}),r.a.createElement("form",{className:"d-flex flex-column align-items-center",onSubmit:this.handleSubmit},r.a.createElement("label",{className:"mt-3 col-11 font-weight-bold"},"Username",r.a.createElement("input",{type:"text",placeholder:"type Username",className:"form-control  text-center",minLength:4,maxLength:16,ref:this.userNameInput,autoFocus:!0,required:!0,onChange:this.handleChange})),r.a.createElement("button",{type:"submit",className:"btn btn-success mt-3 col-10 btn-submit"},r.a.createElement("span",{className:"signIn-content"},"Sign-In")))))}}]),t}(r.a.Component),I=Object(o.b)(null,(function(e){return{signInCT:function(t){return e(S(t))}}}))(Object(s.g)(y)),j=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(u,null),r.a.createElement(I,null))};function k(){return r.a.createElement("h1",null,"Not Found...")}var O=function(){return r.a.createElement(s.d,null,r.a.createElement(s.b,{exact:!0,path:"/"},r.a.createElement(s.a,{to:"/signin"})),r.a.createElement(s.b,{path:"/signin",component:j}),r.a.createElement(s.b,{path:"/books",component:function(){return r.a.createElement("h1",null,"Books Pages")}}),r.a.createElement(s.b,{path:"*",component:k}))},C=(a(70),a(11)),x=a(39),R=a(22),_={isAuthentificated:!1,error:void 0,avatar:void 0,token:void 0,username:void 0},U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0,a=t.type;switch(a){case"SIGN_IN_SUCCESS":var n=t.payload,r=n.avatar,c=n.token,l=n.username;return localStorage.setItem("token",c),Object(R.a)({},e,{isAuthentificated:!0,avatar:r,token:c,username:l});case"SIGN_IN_ERROR":var i=t.payload;return Object(R.a)({},e,{error:i.error});default:return e}},F=Object(C.c)(U,Object(C.a)(x.a));l.a.render(r.a.createElement(o.a,{store:F},r.a.createElement(i.a,{basename:"/"},r.a.createElement(O,null))),document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.83c86f8d.chunk.js.map